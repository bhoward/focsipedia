(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{135:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return m}));var n=a(1),r=a(6),b=(a(0),a(256)),s=(a(258),{id:"database",title:"Relational Databases"}),c={id:"sets/database",isDocsHomePage:!1,title:"Relational Databases",description:"(Content adapted from Critchlow &amp; Eck)",source:"@site/docs/sets/database.md",permalink:"/focsipedia/docs/sets/database",editUrl:"https://github.com/bhoward/focsipedia/edit/master/docs/sets/database.md",sidebar:"someSidebar",previous:{title:"Relations",permalink:"/focsipedia/docs/sets/relations"},next:{title:"Overview of Functional Programming",permalink:"/focsipedia/docs/fp/overview"}},o=[{value:"Relations",id:"relations",children:[]},{value:"Operations on Tables",id:"operations-on-tables",children:[]},{value:"Exercises",id:"exercises",children:[]}],i={rightToc:o};function m(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(b.b)("wrapper",Object(n.a)({},i,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("p",null,"(Content adapted from Critchlow ","&"," Eck)"),Object(b.b)("p",null,"One of the major uses of computer systems is to store and manipulate\ncollections of data. A ",Object(b.b)("strong",{parentName:"p"},"database")," is a collection of data\nthat has been organized so that it is possible to add and delete\ninformation, to update the data that it contains, and to\nretrieve specified parts of the data. A ",Object(b.b)("strong",{parentName:"p"},"Database Management\nSystem"),", or DBMS, is a computer program that makes it possible\nto create and manipulate databases. A DBMS must be able to\naccept and process commands that manipulate the data in the databases\nthat it manages. These commands are called ",Object(b.b)("strong",{parentName:"p"},"queries"),",\nand the languages in which they are written are called\n",Object(b.b)("strong",{parentName:"p"},"query languages"),". A query language is\na kind of specialized programming language."),Object(b.b)("p",null,"There are many different ways that the data in a database could\nbe represented. Different DBMS's use various data representations\nand various query languages. However, data is most commonly stored\nin relations. A relation in a database is a relation\nin the mathematical sense.\nThat is, it is a subset of a cross product of sets. A database\nthat stores its data in relations is called a ",Object(b.b)("strong",{parentName:"p"},"relational\ndatabase"),". The query language for most relational database management\nsystems is some form of the language known as ",Object(b.b)("strong",{parentName:"p"},"Structured Query\nLanguage"),", or SQL. In this section, we'll take a very brief look\nat SQL, relational databases, and how they use relations."),Object(b.b)("h2",{id:"relations"},"Relations"),Object(b.b)("p",null,"A relation is just a subset of a cross product of sets. Since we\nare discussing computer representation of data, the sets are\ndata types. We will use data\ntype names such as ",Object(b.b)("span",Object(n.a)({parentName:"p"},{className:"math math-inline"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-mathml"}),Object(b.b)("math",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(b.b)("semantics",{parentName:"math"},Object(b.b)("mrow",{parentName:"semantics"},Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"int")),Object(b.b)("annotation",Object(n.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\textit{int}")))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.66786em",verticalAlign:"0em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"int"))))))," and ",Object(b.b)("span",Object(n.a)({parentName:"p"},{className:"math math-inline"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-mathml"}),Object(b.b)("math",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(b.b)("semantics",{parentName:"math"},Object(b.b)("mrow",{parentName:"semantics"},Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"string")),Object(b.b)("annotation",Object(n.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\textit{string}")))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.8623000000000001em",verticalAlign:"-0.19444em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"string"))))))," to refer to\nthese sets. A relation that is a subset of the\ncross product ",Object(b.b)("span",Object(n.a)({parentName:"p"},{className:"math math-inline"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-mathml"}),Object(b.b)("math",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(b.b)("semantics",{parentName:"math"},Object(b.b)("mrow",{parentName:"semantics"},Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"int"),Object(b.b)("mo",{parentName:"mrow"},"\xd7"),Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"int"),Object(b.b)("mo",{parentName:"mrow"},"\xd7"),Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"string")),Object(b.b)("annotation",Object(n.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\textit{int}\\times\\textit{int}\\times\\textit{string}")))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.75119em",verticalAlign:"-0.08333em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"int")),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"\xd7"),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.75119em",verticalAlign:"-0.08333em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"int")),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"\xd7"),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.8623000000000001em",verticalAlign:"-0.19444em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"string")))))),'\nwould consist of ordered 3-tuples such as\n(17, 42, "hike"). In a relational database, the data is stored in\nthe form of one or more such relations. The relations are called\ntables, and the tuples that they contain are called rows or records.'),Object(b.b)("p",null,"As an example, consider a lending library that wants to\nstore data about its members, the books that it owns, and\nwhich books the members have out on loan.\nThis data could be represented in three tables, as illustrated below.\nThe relations are shown as tables rather than\nas sets of ordered tuples, but each table is, in fact, a relation.\nThe rows of the table are the tuples. The Members table,\nfor example, is a subset of ",Object(b.b)("span",Object(n.a)({parentName:"p"},{className:"math math-inline"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-mathml"}),Object(b.b)("math",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(b.b)("semantics",{parentName:"math"},Object(b.b)("mrow",{parentName:"semantics"},Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"int"),Object(b.b)("mo",{parentName:"mrow"},"\xd7"),Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"string"),Object(b.b)("mo",{parentName:"mrow"},"\xd7"),Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"string"),Object(b.b)("mo",{parentName:"mrow"},"\xd7"),Object(b.b)("mtext",Object(n.a)({parentName:"mrow"},{mathvariant:"italic"}),"string")),Object(b.b)("annotation",Object(n.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\textit{int}\\times\\textit{string}\\times\\textit{string}\\times\\textit{string}")))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.75119em",verticalAlign:"-0.08333em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"int")),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"\xd7"),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.8623000000000001em",verticalAlign:"-0.19444em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"string")),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"\xd7"),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.8623000000000001em",verticalAlign:"-0.19444em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"string")),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"\xd7"),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"0.8623000000000001em",verticalAlign:"-0.19444em"}})),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord text"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"mord textit"}),"string")))))),',\nand one of the tuples is (1782, "Smith, John", "107 Main St", "New York, NY").\nA table does have one thing that ordinary relations in mathematics\ndo not have. Each column in the table has a name. These names\nare used in the query language to manipulate the data in the tables.'),Object(b.b)("hr",null),Object(b.b)("p",null,"Tables that could be part of a relational database.\nEach table has a name, shown above the table.\nEach column in the table also has a name, shown in the top row\nof the table. The remaining rows hold the data."),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Members")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"MemberID")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"Name")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"Address")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"City")))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1782"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Smith, John"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"107 Main St"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"New York, NY")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"2889"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Jones, Mary"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1515 Center Ave"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"New York, NY")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"378"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Lee, Joseph"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"90 Park Ave"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"New York, NY")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"4277"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Smith, John"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"2390 River St"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Newark, NJ")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"5704"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"O'Neil, Sally"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"89 Main St"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"New York, NY")))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Books")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"BookID")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"Title")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"Author")))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"182"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"I, Robot"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Isaac Asimov")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"221"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"The Sound and the Fury"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"William Faulkner")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"38"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Summer Lightning"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"P.G. Wodehouse")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"437"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Pride and Prejudice"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Jane Austen")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"598"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Left Hand of Darkness"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Ursula LeGuin")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"629"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Foundation Trilogy"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Isaac Asimov")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"720"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Mirror Dance"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Lois McMaster Bujold")))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Loans")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"MemberID")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"BookID")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"DueDate")))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"378"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"221"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"October 8, 2010")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"2889"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"182"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"November 1, 2010")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"4277"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"221"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"November 1, 2010")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1782"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"38"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"October 30, 2010")))),Object(b.b)("hr",null),Object(b.b)("p",null,"The data in the Members table is the basic information that\nthe library needs in order to keep track of its members, namely the name and\naddress of each member. A member also has a MemberID number,\nwhich is presumably assigned by the library. Two different members\ncan't have the same MemberID, even though they might\nhave the same name or the same address. The MemberID\nacts as a ",Object(b.b)("strong",{parentName:"p"},"primary key")," for the Members table.\nA given value of the primary key uniquely identifies one of\nthe rows of the table. Similarly, the BookID in\nthe Books table is a primary key for that table.\nIn the Loans table, which holds information about which\nbooks are out on loan to which members, a MemberID\nunambiguously identifies the member who has a given book on loan,\nand the BookID says unambiguously which book that is.\nEvery table has a primary key, but the key can consist of more\nthan one column. The DBMS enforces the uniqueness\nof primary keys. That is, it won't let users make a modification\nto the table if it would result in two rows having the same\nprimary key."),Object(b.b)("p",null,"The fact that a relation is a set","\u2014","a set of tuples","\u2014","means that\nit can't contain the same tuple more than once. In terms of tables,\nthis means that a table shouldn't contain two identical rows. But\nsince no two rows can contain the same primary key, it's\nimpossible for two rows to be identical. So tables are in fact\nrelations in the mathematical sense."),Object(b.b)("h2",{id:"operations-on-tables"},"Operations on Tables"),Object(b.b)("p",null,"The library must have a way to add and delete members and books\nand to make a record when a book is borrowed or returned.\nIt should also have a way to change the address of a member\nor the due date of a borrowed book. Operations such as\nthese are performed using the DBMS's query language.\nSQL has commands named INSERT, DELETE,\nand UPDATE for performing these operations.\nThe command for adding Barack Obama as a member of the\nlibrary with MemberID 999 would be (back in 2010","\u2026",")"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'    INSERT INTO Members\n    VALUES (999, "Barack Obama",\n         "1600 Pennsylvania Ave", "Washington, DC")\n')),Object(b.b)("p",null,"When it comes to deleting and modifying rows, things become\nmore interesting because it's necessary to specify which\nrow or rows will be affected. This is done by specifying\na condition that the rows must fulfill. For example,\nthis command will delete the member with ID 4277:"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"    DELETE FROM Members\n    WHERE MemberID = 4277\n")),Object(b.b)("p",null,"It's possible for a command to affect multiple rows. For\nexample,"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'    DELETE FROM Members\n    WHERE Name = "Smith, John"\n')),Object(b.b)("p",null,'would delete every row in which the name is "Smith, John."\nThe update command also specifies what changes are to be\nmade to the row:'),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'    UPDATE Members\n    SET Address="19 South St", City="Hartford, CT"\n    WHERE MemberID = 4277\n')),Object(b.b)("p",null,"Of course, the library also needs a way of retrieving\ninformation from the database. SQL provides the\nSELECT command for this purpose. For example,\nthe query"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'    SELECT Name, Address\n    FROM Members\n    WHERE City = "New York, NY"\n')),Object(b.b)("p",null,'asks for the name and address of every member who lives in\nNew York City. The last line of the query is a condition\nthat picks out certain rows of the Members relation,\nnamely all the rows in which the City is\n"New York, NY". The first line specifies which data\nfrom those rows should be retrieved. The data is actually\nreturned in the form of a table. For example, given the\ndata above, the query would return this\ntable:'),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"Name")),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("strong",{parentName:"th"},"Address")))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Smith, John"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"107 Main St")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Jones, Mary"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1515 Center Ave")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Lee, Joseph"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"90 Park Ave")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"O'Neil, Sally"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"89 Main St")))),Object(b.b)("p",null,"The table returned by a SELECT query can even be used\nto construct more complex queries. For example, if the table returned\nby SELECT has only one column, then it can be\nused with the IN operator to specify any value\nlisted in that column. The following query will find the\nBookID of every book that is out on loan to a\nmember who lives in New York City:"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'    SELECT BookID\n    FROM Loans\n    WHERE MemberID IN (SELECT MemberID\n             FROM Members\n             WHERE City = "New York, NY")\n')),Object(b.b)("p",null,"More than one table can be listed in the FROM\npart of a query. The tables that are listed are joined\ninto one large table, which is then used for the query.\nThe large table is essentially the cross product of\nthe joined tables, when the tables are understood as\nsets of tuples. For example, suppose that we want the\ntitles of all the books that are out on loan to members who\nlive in New York City. The titles are in the Books\ntable, while information about loans is in the Loans\ntable. To get the desired data, we can join the tables\nand extract the answer from the joined table:"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'    SELECT Title\n    FROM Books, Loans\n    WHERE Books.BookID = Loans.BookID\n      AND MemberID IN (SELECT MemberID\n             FROM Members\n             WHERE City = "New York, NY")\n')),Object(b.b)("p",null,"Note that if two\ntables have columns that have the same name, the columns must\nbe named unambiguously by combining the table name with the\ncolumn name. Since in the outer query the Books table\nand Loans table are both under discussion, then\nthe BookID columns in the two tables can be referred\nto as Books.BookID and Loans.BookID."),Object(b.b)("p",null,"This is just a sample of what can be done with SQL and\nrelational databases. The conditions in WHERE\nclauses can get very complicated, and there are other\noperations besides the cross product for combining tables.\nThe database operations that are needed to complete a\ngiven query can be complex and time-consuming. Before\ncarrying out a query, the DBMS tries to optimize it.\nThat is, it manipulates the query into a form that\ncan be carried out most efficiently. The rules for\nmanipulating and simplifying queries form an ",Object(b.b)("em",{parentName:"p"},"algebra"),"\nof relations, and the theoretical study of relational\ndatabases is in large part the study of the algebra\nof relations."),Object(b.b)("h2",{id:"exercises"},"Exercises"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Using the library database given above,\nwhat is the result of each of the following SQL commands?"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'SELECT Name, Address\nFROM Members\nWHERE Name = "Smith, John"\n'))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'DELETE FROM Books\nWHERE Author = "Isaac Asimov"\n'))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'UPDATE Loans\nSET DueDate = "November 20"\nWHERE BookID = 221\n'))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"SELECT Title\nFROM Books, Loans\nWHERE Books.BookID = Loans.BookID\n"))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),'DELETE FROM Loans\nWHERE MemberID IN (SELECT MemberID\n           FROM Members\n           WHERE Name = "Lee, Joseph")\n'))))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Using the library database given above,\nwrite an SQL command to do each of the following database\nmanipulations:"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"Find the BookID of every book that is due on November 1, 2010."),Object(b.b)("li",{parentName:"ul"},"Change the DueDate of the book with BookID 221 to November 15, 2010."),Object(b.b)("li",{parentName:"ul"},'Change the DueDate of the book with title "Summer Lightning" to November 14, 2010. Use a nested SELECT.'),Object(b.b)("li",{parentName:"ul"},"Find the name of every member who has a book out on loan. Use joined tables in the FROM clause of a SELECT command."))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Suppose that a college wants to use a database to store\ninformation about its students, the courses that are offered in\na given term, and which students are taking which courses.\nDesign tables that could be used in a relational\ndatabase for representing this data. Then\nwrite SQL commands to do each of the following database\nmanipulations. (You should design your tables so that they\ncan support all these commands.)"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},'Enroll the student with ID number 1928882900 in "English 260".'),Object(b.b)("li",{parentName:"ul"},'Remove "John Smith" from "Biology 110".'),Object(b.b)("li",{parentName:"ul"},"Remove the student with ID number 2099299001 from every course in which that student is enrolled."),Object(b.b)("li",{parentName:"ul"},'Find the names and addresses of the students who are taking "Computer Science 229".'),Object(b.b)("li",{parentName:"ul"},'Cancel the course "History 101".')))))}m.isMDXComponent=!0},256:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return j}));var n=a(0),r=a.n(n);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},b=Object.keys(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=r.a.createContext({}),m=function(e){var t=r.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):c({},t,{},e)),a},l=function(e){var t=m(e.components);return r.a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},O=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,b=e.originalType,s=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),l=m(a),O=n,j=l["".concat(s,".").concat(O)]||l[O]||p[O]||b;return a?r.a.createElement(j,c({ref:t},i,{components:a})):r.a.createElement(j,c({ref:t},i))}));function j(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var b=a.length,s=new Array(b);s[0]=O;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:n,s[1]=c;for(var i=2;i<b;i++)s[i]=a[i];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,a)}O.displayName="MDXCreateElement"},257:function(e,t,a){"use strict";var n=a(0),r=a(35);t.a=function(){return Object(n.useContext)(r.a)}},258:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(257),r=a(259);function b(e,{forcePrependBaseUrl:t=!1,absolute:a=!1}={}){const{siteConfig:{baseUrl:b="/",url:s}={}}=Object(n.a)();if(!e)return e;if(t)return b+e;if(!Object(r.a)(e))return e;const c=b+e.replace(/^\//,"");return a?s+c:c}},259:function(e,t,a){"use strict";function n(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}a.d(t,"a",(function(){return n}))}}]);