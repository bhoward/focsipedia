(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{203:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return p})),t.d(a,"metadata",(function(){return b})),t.d(a,"rightToc",(function(){return r})),t.d(a,"default",(function(){return i}));var n=t(1),s=t(6),c=(t(0),t(211)),p={id:"map-reduce",title:"Map and Reduce on Lists"},b={id:"fp/map-reduce",title:"Map and Reduce on Lists",description:"Two of the most fundamental operations on lists are `map` and `reduce`.",source:"@site/docs/fp/map-reduce.md",permalink:"/focsipedia/docs/fp/map-reduce",editUrl:"https://github.com/bhoward/focsipedia/edit/master/docs/fp/map-reduce.md",sidebar:"someSidebar",previous:{title:"Types in Functional Programming",permalink:"/focsipedia/docs/fp/types"},next:{title:"DPoodle Graphics",permalink:"/focsipedia/docs/fp/doodle"}},r=[{value:"Helper Functions",id:"helper-functions",children:[]},{value:"Accumulators",id:"accumulators",children:[]},{value:"Tail Recursion",id:"tail-recursion",children:[]},{value:"Exercises",id:"exercises",children:[]}],m={rightToc:r};function i(e){var a=e.components,t=Object(s.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},m,t,{components:a,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Two of the most fundamental operations on lists are ",Object(c.b)("inlineCode",{parentName:"p"},"map")," and ",Object(c.b)("inlineCode",{parentName:"p"},"reduce"),".\nIn an extended form,",Object(c.b)("sup",Object(n.a)({parentName:"p"},{id:"fnref-1"}),Object(c.b)("a",Object(n.a)({parentName:"sup"},{href:"#fn-1",className:"footnote-ref"}),"1"))," they are the basis of one of the big success stories of functional programming: Google's ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"http://static.googleusercontent.com/media/research.google.com/es/us/archive/mapreduce-osdi04.pdf"}),"MapReduce")," framework.\nThe idea is fairly simple: given a huge amount of data (say, the result of crawling the web) stored across a large distributed cluster of servers, many jobs can be broken into two steps:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("strong",{parentName:"li"},"Map"),": apply some function uniformly across all of the pieces of data, running in parallel on all of the machines in the cluster;"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("strong",{parentName:"li"},"Reduce"),": collect up the results of the map phase into some sort of summary by applying a function that combines several results into one; this can first be done locally on each machine, and then spread to combine results from larger and larger groups of machines until the entire cluster has been summarized.")),Object(c.b)("p",null,"For example, the map operation might extract keywords from web pages, while the reduce operation might produce a table counting the occurrences of each keyword.\nEngineers at Google recognized that many of their tasks fit this model, and they could save a huge amount of effort by writing a framework to do all of the distributed processing, with associated optimizations and error handling, just once; all that needed to be supplied for any given use of the framework was two (pure) functions: the function to be mapped and the function to perform the reduction."),Object(c.b)("p",null,"Here is what the ",Object(c.b)("inlineCode",{parentName:"p"},"map")," and ",Object(c.b)("inlineCode",{parentName:"p"},"reduce"),Object(c.b)("sup",Object(n.a)({parentName:"p"},{id:"fnref-2"}),Object(c.b)("a",Object(n.a)({parentName:"sup"},{href:"#fn-2",className:"footnote-ref"}),"2"))," operations look like on lists:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-reason",metastring:"edit",edit:!0}),"let rec map = (f, data) => {\n  switch (data) {\n  | [] => []\n  | [head, ...tail] => [f(head), ...map(f, tail)]\n  }\n};\n\nlet rec reduce = (g, init, data) => {\n  switch (data) {\n  | [] => init\n  | [head, ...tail] => reduce(g, g(init, head), tail)\n  }\n};\n\nmap(n => 2 * n, [1, 2, 3]);\nreduce((a, b) => a + b, 0, [1, 2, 3]);\n")),Object(c.b)("p",null,"Given functions ",Object(c.b)("inlineCode",{parentName:"p"},"f")," and ",Object(c.b)("inlineCode",{parentName:"p"},"g")," and a list ",Object(c.b)("inlineCode",{parentName:"p"},"xs = [x1, x2, ..., xn]"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"the action of ",Object(c.b)("inlineCode",{parentName:"li"},"map(f, xs)")," is to produce ",Object(c.b)("inlineCode",{parentName:"li"},"[f(x1), f(x2), ..., f(xn)]"),", and"),Object(c.b)("li",{parentName:"ul"},"the action of ",Object(c.b)("inlineCode",{parentName:"li"},"reduce(g, init, xs)")," is to produce ",Object(c.b)("inlineCode",{parentName:"li"},"g(...g(g(init, x1), x2)..., xn)"),".")),Object(c.b)("p",null,"The code shows two simple examples of using ",Object(c.b)("inlineCode",{parentName:"p"},"map")," and ",Object(c.b)("inlineCode",{parentName:"p"},"reduce"),".\nThe first maps the function ",Object(c.b)("inlineCode",{parentName:"p"},"n => 2 * n")," over the list ",Object(c.b)("inlineCode",{parentName:"p"},"[1, 2, 3]"),", which returns a list where each element has been doubled.\nThe second reduces the list ",Object(c.b)("inlineCode",{parentName:"p"},"[1, 2, 3]")," by starting with an initial result of 0.\nThe reduction function is ",Object(c.b)("inlineCode",{parentName:"p"},"(a, b) => a + b"),", which says to take the previous result (",Object(c.b)("inlineCode",{parentName:"p"},"a"),") and add the next item from the list (",Object(c.b)("inlineCode",{parentName:"p"},"b"),").\nAt the end of the reduction, the result is the sum of all the numbers in the list."),Object(c.b)("h2",{id:"helper-functions"},"Helper Functions"),Object(c.b)("p",null,"Sometimes a direct recursive solution to a problem doesn't quite work.\nFor example, suppose we want to convert a list of words into a single string with commas between each word.\nIf we try to do this as a reduce operation, the result is close but not correct:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-reason",metastring:"edit",edit:!0}),'reduce((s, w) => s ++ ", " ++ w, "", ["hello", "world"]);\n')),Object(c.b)("p",null,"The problem is that the initial task is not quite the same as the smaller subtask that is left after we handle one element of the list.\nEvery word ",Object(c.b)("em",{parentName:"p"},"except")," the first needs to be preceded by a comma.",Object(c.b)("sup",Object(n.a)({parentName:"p"},{id:"fnref-3"}),Object(c.b)("a",Object(n.a)({parentName:"sup"},{href:"#fn-3",className:"footnote-ref"}),"3")),"\nOne way to fix this is to split the task into an initial function that handles the special cases to get things going, plus a helper function (often called ",Object(c.b)("inlineCode",{parentName:"p"},"aux"),' and defined locally in the body of the main function) that does the recursive work.\nHere is a solution to the "comma-separated string" problem using a helper function:'),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-reason",metastring:"edit",edit:!0}),'let string_of_list = words => {\n  let rec aux = words => {\n    switch (words) {\n    | [] => ""\n    | [head, ...tail] => ", " ++ head ++ aux(tail)\n    }\n  };\n\n  switch (words) {\n  | [] => ""\n  | [head, ...tail] => head ++ aux(tail)\n  }\n};\n\nstring_of_list(["hello", "world"]);\n')),Object(c.b)("p",null,"Note that the ",Object(c.b)("inlineCode",{parentName:"p"},"aux")," function here could have just been an application of ",Object(c.b)("inlineCode",{parentName:"p"},"reduce")," as initially tried above (because we actually ",Object(c.b)("em",{parentName:"p"},"do")," want a comma in front of each word at this point), but we are writing it as its own function to show the pattern."),Object(c.b)("h2",{id:"accumulators"},"Accumulators"),Object(c.b)("p",null,"TODO"),Object(c.b)("h2",{id:"tail-recursion"},"Tail Recursion"),Object(c.b)("p",null,"TODO"),Object(c.b)("h2",{id:"exercises"},"Exercises"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("p",{parentName:"li"},"Use a combination of ",Object(c.b)("inlineCode",{parentName:"p"},"map")," and ",Object(c.b)("inlineCode",{parentName:"p"},"reduce")," to define a function that will compute the length of a vector, given as a list of floats.\nThe length of the vector ",Object(c.b)("span",Object(n.a)({parentName:"p"},{className:"math math-inline"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"katex"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"katex-mathml"}),Object(c.b)("math",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(c.b)("semantics",{parentName:"math"},Object(c.b)("mrow",{parentName:"semantics"},Object(c.b)("mo",Object(n.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(c.b)("msub",{parentName:"mrow"},Object(c.b)("mi",{parentName:"msub"},"x"),Object(c.b)("mn",{parentName:"msub"},"1")),Object(c.b)("mo",Object(n.a)({parentName:"mrow"},{separator:"true"}),","),Object(c.b)("msub",{parentName:"mrow"},Object(c.b)("mi",{parentName:"msub"},"x"),Object(c.b)("mn",{parentName:"msub"},"2")),Object(c.b)("mo",Object(n.a)({parentName:"mrow"},{separator:"true"}),","),Object(c.b)("mo",{parentName:"mrow"},"\u2026"),Object(c.b)("mo",Object(n.a)({parentName:"mrow"},{separator:"true"}),","),Object(c.b)("msub",{parentName:"mrow"},Object(c.b)("mi",{parentName:"msub"},"x"),Object(c.b)("mi",{parentName:"msub"},"n")),Object(c.b)("mo",Object(n.a)({parentName:"mrow"},{stretchy:"false"}),"]")),Object(c.b)("annotation",Object(n.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"[x_1, x_2, \\ldots, x_n]")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mopen"}),"["),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault"}),"x"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"msupsub"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.30110799999999993em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mtight"}),"1")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(c.b)("span",{parentName:"span"})))))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mpunct"}),","),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault"}),"x"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"msupsub"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.30110799999999993em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mtight"}),"2")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(c.b)("span",{parentName:"span"})))))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mpunct"}),","),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"minner"}),"\u2026"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mpunct"}),","),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault"}),"x"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"msupsub"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.151392em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault mtight"}),"n")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(c.b)("span",{parentName:"span"})))))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mclose"}),"]")))))," is ",Object(c.b)("span",Object(n.a)({parentName:"p"},{className:"math math-inline"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"katex"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"katex-mathml"}),Object(c.b)("math",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(c.b)("semantics",{parentName:"math"},Object(c.b)("mrow",{parentName:"semantics"},Object(c.b)("msqrt",{parentName:"mrow"},Object(c.b)("mrow",{parentName:"msqrt"},Object(c.b)("msubsup",{parentName:"mrow"},Object(c.b)("mi",{parentName:"msubsup"},"x"),Object(c.b)("mn",{parentName:"msubsup"},"1"),Object(c.b)("mn",{parentName:"msubsup"},"2")),Object(c.b)("mo",{parentName:"mrow"},"+"),Object(c.b)("msubsup",{parentName:"mrow"},Object(c.b)("mi",{parentName:"msubsup"},"x"),Object(c.b)("mn",{parentName:"msubsup"},"2"),Object(c.b)("mn",{parentName:"msubsup"},"2")),Object(c.b)("mo",{parentName:"mrow"},"+"),Object(c.b)("mo",{parentName:"mrow"},"\u22ef"),Object(c.b)("mo",{parentName:"mrow"},"+"),Object(c.b)("msubsup",{parentName:"mrow"},Object(c.b)("mi",{parentName:"msubsup"},"x"),Object(c.b)("mi",{parentName:"msubsup"},"n"),Object(c.b)("mn",{parentName:"msubsup"},"2"))))),Object(c.b)("annotation",Object(n.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\sqrt{x_1^2 + x_2^2 + \\cdots + x_n^2}")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"base"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"strut",style:{height:"1.24em",verticalAlign:"-0.2902em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord sqrt"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.9498em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"svg-align",style:{top:"-3.2em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"3.2em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord",style:{paddingLeft:"1em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault"}),"x"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"msupsub"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.7959080000000001em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.433692em",marginLeft:"0em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mtight"}),"1"))),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-3.0448000000000004em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mtight"}),"2")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.26630799999999993em"}}),Object(c.b)("span",{parentName:"span"})))))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"+"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault"}),"x"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"msupsub"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.7959080000000001em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.433692em",marginLeft:"0em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mtight"}),"2"))),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-3.0448000000000004em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mtight"}),"2")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.26630799999999993em"}}),Object(c.b)("span",{parentName:"span"})))))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"+"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"minner"}),"\u22ef"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mbin"}),"+"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault"}),"x"),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"msupsub"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.740108em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.4530000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mathdefault mtight"}),"n"))),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.9890000000000003em",marginRight:"0.05em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"mord mtight"}),"2")))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.247em"}}),Object(c.b)("span",{parentName:"span"})))))))),Object(c.b)("span",Object(n.a)({parentName:"span"},{style:{top:"-2.9098em"}}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"pstrut",style:{height:"3.2em"}})),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"hide-tail",style:{minWidth:"1.02em",height:"1.28em"}}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{width:"400em",height:"1.28em",viewBox:"0 0 400000 1296",preserveAspectRatio:"xMinYMin slice"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{d:"M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z"})))))),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist-r"}),Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"vlist",style:{height:"0.2902em"}}),Object(c.b)("span",{parentName:"span"}))))))))),".\nThe square root function in ReasonML is ",Object(c.b)("inlineCode",{parentName:"p"},"sqrt"),". For example, ",Object(c.b)("inlineCode",{parentName:"p"},"length([3.0, 4.0, 12.0])")," should be ",Object(c.b)("inlineCode",{parentName:"p"},"13.0"),".")),Object(c.b)("li",{parentName:"ol"},Object(c.b)("p",{parentName:"li"},"Define a version of ",Object(c.b)("inlineCode",{parentName:"p"},"reduce")," that folds up the result ",Object(c.b)("em",{parentName:"p"},"from the right"),".\nThat is, ",Object(c.b)("inlineCode",{parentName:"p"},"reduceRight(g, init, xs)")," should compute ",Object(c.b)("inlineCode",{parentName:"p"},"g(x1, g(x2, ...g(xn, init)...))"),".")),Object(c.b)("li",{parentName:"ol"},Object(c.b)("p",{parentName:"li"},"Given the function ",Object(c.b)("inlineCode",{parentName:"p"},"cons")," such that ",Object(c.b)("inlineCode",{parentName:"p"},"cons(head, tail)")," is ",Object(c.b)("inlineCode",{parentName:"p"},"[head, ...tail]"),", what is the result of ",Object(c.b)("inlineCode",{parentName:"p"},"reduceRight(cons, [], xs)"),"? What is the result of ",Object(c.b)("inlineCode",{parentName:"p"},"reduce(cons, [], xs)"),"?"))),Object(c.b)("div",{className:"footnotes"},Object(c.b)("hr",{parentName:"div"}),Object(c.b)("ol",{parentName:"div"},Object(c.b)("li",Object(n.a)({parentName:"ol"},{id:"fn-1"}),"Google's MapReduce is actually expressed in terms of collections of values paired with ",Object(c.b)("em",{parentName:"li"},"keys")," that are used to distribute and collect related data; the simplification here is that we are essentially giving every value the same key, so the summary produced by ",Object(c.b)("inlineCode",{parentName:"li"},"reduce")," will be a single item.",Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"#fnref-1",className:"footnote-backref"}),"\u21a9")),Object(c.b)("li",Object(n.a)({parentName:"ol"},{id:"fn-2"}),"This version of reduce is also known as a ",Object(c.b)("strong",{parentName:"li"},"left fold")," because it repeatedly folds up the list into a result, working from left to right.",Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"#fnref-2",className:"footnote-backref"}),"\u21a9")),Object(c.b)("li",Object(n.a)({parentName:"ol"},{id:"fn-3"}),"Equivalently, every word except the ",Object(c.b)("em",{parentName:"li"},"last")," needs to be followed by a comma; this observation suggests that another solution is to handle single-word lists as separate base case.",Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"#fnref-3",className:"footnote-backref"}),"\u21a9")))))}i.isMDXComponent=!0},211:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return j}));var n=t(0),s=t.n(n);function c(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){c(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function r(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var m=s.a.createContext({}),i=function(e){var a=s.a.useContext(m),t=a;return e&&(t="function"==typeof e?e(a):b({},a,{},e)),t},l=function(e){var a=i(e.components);return s.a.createElement(m.Provider,{value:a},e.children)},o={inlineCode:"code",wrapper:function(e){var a=e.children;return s.a.createElement(s.a.Fragment,{},a)}},O=Object(n.forwardRef)((function(e,a){var t=e.components,n=e.mdxType,c=e.originalType,p=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),l=i(t),O=n,j=l["".concat(p,".").concat(O)]||l[O]||o[O]||c;return t?s.a.createElement(j,b({ref:a},m,{components:t})):s.a.createElement(j,b({ref:a},m))}));function j(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var c=t.length,p=new Array(c);p[0]=O;var b={};for(var r in a)hasOwnProperty.call(a,r)&&(b[r]=a[r]);b.originalType=e,b.mdxType="string"==typeof e?e:n,p[1]=b;for(var m=2;m<c;m++)p[m]=t[m];return s.a.createElement.apply(null,p)}return s.a.createElement.apply(null,t)}O.displayName="MDXCreateElement"}}]);